# NCS 평가 프로그램

## 단축키

command+shift+[ 탭변경
command+shift+] 탭변경
option+shift+마우스커서 다중선택
control+tab 이전 탭 가기

## 리팩토링 시작

### 개발방법

- [ ] 구글 줄 사용해서 개발하기
- [ ] GPT API와 파이썬 MCP 연결해서 시험 결과 시각화
- [ ] 결과 시각화 페이지를 위한 전용 테이블 만들기 (통계 값 반영)

### 1. 유저와 강사

- [x] User, Teacher 정규화
- [x] 관련 버그 및 인증 로직 수정
- [x] 인증번호 확인 로직 (과정 상세보기의 해당 과정의 학생들)
- [x] 유저 관련 조회 쿼리 정리
- [x] 유저 관련 주소 정리

### 2. 유저와 학생

- [x] User, Student 정규화
- [x] 관련 버그 및 인증 로직 수정
- [x] 학생 관련 주소 정리
- [x] 학생 등록시에 당연히 courseId번 과정으로 선택되어야 한다.
- [x] 학생 관련 조회 쿼리 정리
- [x] 학생 관련 view 정리
- [x] Course 컨트롤러에 관련된것들 옮기고, 서비스만 도메인에서 실행하기

### 3. 과정 관리

- [x] TODO: 이부분 currentIndex, fExamId 등등 복잡하게 수정해야함
- [x] 과정별로 메인강사, 보조강사들 등록하는 로직 필요
- [x] 과정 상태 변경 스케쥴러 등록 (새벽3시에 갱신됨)
- [x] 로그인한 강사가 속해 있는 과정만 보이게 하기
- [x] 주소 정리 (student, subject tab=0 이부분 수정해야함)
- [x] 하나의 과정에서는 여러명의 강사들이 속해있을 수 있다.
- [x] 해당 강사들은 다른 과정에도 속해있을 수 있다.
- [x] 과정에 등록되어 있는 강사들은 해당 과정을 조회할 수 있다.
- [x] detail 화면 쿼리 정리해야한다. (교과목과, 학생들 조회)
- [x] 한방쿼리로 다른 부분도 수정하자.
- [x] 교과목 요소등록시 순번 중복안되게 수정하기

### 4. 시험지 관리

- [ ] 같은 시험지에 본평가가 2개 이상 존재하는 것 막기

### 5. 시험 관리

- [ ] 학생별, 선생별 컨트롤러 나누기
- [ ] DTO 정리하기
- [ ] 쿼리 정리하기
- [ ] view 정리하기
-

### 6. 문서 관리

- [ ] 학생별, 선생별 컨트롤러 나누기

### 7. 기존 교과목, 시험지 불러와서 깊은 복사

### 마지막

- [ ] 컨트롤러 함수명, 서비스 함수명 정리
- [ ] 수정
- [ ] 삭제
- [ ] validation 체크
- [ ] 사용하지 않는 파일 삭제
- [ ] css 파일 분리
- [ ] js 파일 분리

### 추후 리팩토링 v3

- [ ] 시큐리티 적용
- [ ] 컨트롤러는 기능중심, domain은 도메인 중심
- [ ] 기관별 과정으로 변경
- [ ] 관리자 기능 만들기
- [ ] 결재 및 구독 방식 만들기
- [ ] 보고서 캐싱기능
- [ ] 엔티티가 없는 컨트롤러의 서비스는 XViewService로 만들기
- [ ] view의 구조는 web의 구조와 일치시키기